<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ninja Word Builder Dojo</title>
<style>
  body { background: #2c3e50; color: white; font-family: Arial,sans-serif; text-align:center; }
  h1 { font-size:3em; text-shadow:2px 2px #000; }
  #scoreboard { font-size:1.5em; margin:10px; }
  .dojo-container { position:relative; width:100%; height:50vh; border:2px dashed #34495e; margin-bottom:20px; }
  .letter-card { position:absolute; width:60px;height:60px; background:#e74c3c; border:4px solid #c0392b; border-radius:10px; font-size:40px; line-height:60px; cursor:pointer; user-select:none; transition: transform 0.2s; }
  .letter-card.current-word { background:#f1c40f; border-color:#f39c12; color:#000; } /* special color for letters in the word */
  .letter-card:active { transform: scale(1.2) rotate(-10deg); }
  #city { display:flex; align-items:flex-end; gap:10px; height:250px; margin-top:20px; flex-wrap:nowrap; }
  .city-tower { display:flex; flex-direction:column-reverse; align-items:center; gap:2px; }
  .city-block { width:60px;height:60px; display:flex; justify-content:center; align-items:center; font-size:30px; color:white; border-radius:5px; border:2px solid #2980b9; transition: all 0.5s ease; }
</style>
</head>
<body>

<h1>ðŸ¥· Ninja Word Builder Dojo ðŸ¥·</h1>
<div id="scoreboard">Score: 0</div>
<p>Click the letters in order to spell words! Watch your city grow.</p>
<div class="dojo-container" id="alphabet-grid"></div>
<div id="city"></div>

<script>
const words = ["CAT","DOG","FARM","TREE","HOUSE","BOOK","SHIP","STAR","GAME","MOON"];
let currentWord = words[Math.floor(Math.random()*words.length)];
let currentIndex = 0;
let score = 0;

const grid = document.getElementById('alphabet-grid');
const city = document.getElementById('city');

function updateScore(){ document.getElementById('scoreboard').innerText = `Score: ${score}`; }
function speakLetter(l){ const msg=new SpeechSynthesisUtterance(); msg.text=l; window.speechSynthesis.speak(msg); }

function spawnNextLetter(){
    grid.innerHTML=""; // clear old letters
    if(currentIndex >= currentWord.length) return;

    const letter = currentWord[currentIndex];
    const card = document.createElement('div');
    card.className='letter-card current-word'; // highlighted color for the current letter
    card.innerText = letter;

    // random position
    card.style.top = Math.random()*(grid.offsetHeight-60)+'px';
    card.style.left = Math.random()*(grid.offsetWidth-60)+'px';

    card.onclick = ()=>{
        speakLetter(letter);
        currentIndex++;
        score+=5;
        updateScore();
        grid.innerHTML="";
        if(currentIndex === currentWord.length){
            addWordToCity(currentWord);
            currentWord = words[Math.floor(Math.random()*words.length)];
            currentIndex = 0;
        }
        spawnNextLetter();
    };

    grid.appendChild(card);
}

function addWordToCity(word){
    const tower=document.createElement('div');
    tower.className='city-tower';
    const colors=["#3498db","#e67e22","#9b59b6","#1abc9c","#e74c3c"];
    const color=colors[Math.floor(Math.random()*colors.length)];
    for(let l of word){
        const block=document.createElement('div');
        block.className='city-block';
        block.style.backgroundColor=color;
        block.innerText=l;
        tower.appendChild(block);
    }
    city.appendChild(tower);
}

spawnNextLetter();
</script>

</body>
</html>
